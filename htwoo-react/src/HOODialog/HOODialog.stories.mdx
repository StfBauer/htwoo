import { ArgTypes } from '@storybook/blocks';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { useArgs } from '@storybook/preview-api';
import { symset } from '../SymbolSet';
import HOODialog, {HOODialogType} from './HOODialog';
import HOODialogHeader from '../HOODialogHeader';
import HOODialogContent from '../HOODialogContent';
import HOOLabel from '../HOOLabel';
import HOOButton, {HOOButtonType} from '../HOOButton';
import HOOIcon from '../HOOIcon';

<Meta title="Components/Dialogs/HOODialog" component={HOODialog}/>

# HOODialog

This example shows using a `HOOLabel` component as the child(children) of the `HOODialogContent` component.
In reality you can put whatever DOM elements you want inside it the component the component simply injects all the children into the DOM.

Predefined enum defined for the supported dialog types:
```ts
export enum HOODialogType {
  "Standard",
  "StandardError",
  "StandardSuccess",
  "StandardWarning",
  "SidebarLeft",
  "SidebarRight",
  "Topbar",
  "Bottombar"
}
```

## Arguments

<ArgTypes of={HOODialog} />

export const Template = (args) => {
  const [_, updateArgs] = useArgs();
  const onClick = () => {
    const args = JSON.parse(JSON.stringify(_));
    args.visible = !args.visible;
    updateArgs(args);
  }
  symset.initSymbols();
  return <div>
    <HOOButton type={HOOButtonType.Primary} label={`${(args.visible)?"Hide Dialog":"Show Dialog"}`} onClick={onClick}/>
    <HOODialog changeVisibility={onClick} {...args}>
      <HOOIcon iconName='hoo-icon-smile' />
      <HOODialogContent>This is the message in the dialog box.</HOODialogContent>
      <HOOButton label='Close' onClick={onClick} />
    </HOODialog>
  </div>;
};

export const TemplateModal = (args) => {
  const [_, updateArgs] = useArgs();
  const onClick = () => {
    const args = JSON.parse(JSON.stringify(_));
    args.visible = !args.visible;
    updateArgs(args);
  }
  symset.initSymbols();
  return <div>
    <HOOButton type={HOOButtonType.Primary} label={`${(args.visible)?"Hide Dialog":"Show Dialog"}`} onClick={onClick}/>
    <HOODialog changeVisibility={onClick} {...args}>
      <HOODialogHeader title="Dialog Header" closeIconName="hoo-icon-close" closeDisabled={false} closeOnClick={onClick} />
      <HOODialogContent>
        <HOOLabel label="Content of Dialog" />
      </HOODialogContent>
    </HOODialog>
  </div>;
};

## Standard

Showing and hiding the dialog requires manipulation of a state variable for the visible property. In the example below it's set to false.

<Canvas layout='fullscreen'>
  <Story 
    name="Standard"
    args = {{type: HOODialogType.Standard, visible: false }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Sidebar Left

Showing and hiding the dialog requires manipulation of a state variable for the visible property. In the example below it's set to false.

<Canvas layout='fullscreen'>
  <Story 
    name="Sidebar Left"
    args = {{type: HOODialogType.SidebarLeft, visible: false }}>
    {TemplateModal.bind({})}
  </Story>
</Canvas>

## Extending

Showing and hiding the dialog requires manipulation of a state variable for the visible property. In the example below it's set to false.

